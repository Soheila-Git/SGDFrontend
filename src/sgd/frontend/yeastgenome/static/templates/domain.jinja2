{% extends "global_layout.jinja2" %}

{% block title %}{{ domain.display_name }}{% endblock %}

{% block head %}
<script>
	var domain_details_link = "{{domain_details_link}}";
	var download_table_link = "{{download_table_link}}";
	var analyze_link = "{{analyze_table_link}}";

	var download_filename = "{{ domain.display_name }}_annotations";
    var analyze_filename = "<a href='{{ domain.link }}' class='gene_name'>{{ domain.display_name }}</a> Genes";

    var display_name = "{{ domain.display_name }}";
</script>
{% endblock %}


{% block body %}

<div id="center_title" class="row">
	<h1>Domain: <span class="gene_name">{{ domain.display_name }}</span></h1>
</div>

<!-- Navbar
================================================== -->
<div class="row">
	
<!-- Includes navbar.html into template -->
    {% include "navbar.jinja2" %}

    <div class="small-12 large-9 columns content-column">

        <script>
            add_navbar_title('Domain: <span class="gene_name">{{ domain.display_name }}</span>');
            add_navbar_element('Overview', 'overview');
            add_navbar_element('Annotations', 'annotations');
        </script>

        <!-- Summary
        ================================================== -->
        <section id="overview" data-magellan-destination="overview">
            <div class="page-header">
                <h2>Overview</h2>
                <div class="panel">
                    <dl class="key-value">
                        {% for url in domain.urls %}
                            {% if loop.first %}<dt>Accession ID</dt><dd>{% endif %}
                            <a href="{{ url.link }}" target="_blank">{{ url.display_name }}</a>{% if not loop.last %}, {% else %}</dd>{% endif %}
                        {% endfor %}

                        <dt>Source</dt>
                        <dd>{{ domain.source.display_name }}</dd>

                        {%  if domain.description != none %}
                            <dt>Description</dt>
                            <dd>{{ domain.description }}</dd>
                        {%  endif %}

                    </dl>
                </div>
            </div>
        </section>

        <!-- Annotations
        ================================================== -->
        <section id="annotations" data-magellan-destination="annotations">
            <div class="page-header">
                <h2>Annotations <span id="domain_table_header" class="round secondary label"></span></h2>
                <div class="panel">
                    <!-- Includes domain_table into template -->
                    {% set table_id = "domain_table" %}
                    {% include "domain_table.jinja2" %}
                </div>
            </div>
        </section>

    </div>
</div>

{% endblock body %}

{% block scripts %}
<script src="/static/js/evidence.js"></script>
<script src="/static/js/domain.js"></script>
{% endblock scripts %}
